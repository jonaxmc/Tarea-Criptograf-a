<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <script src="script.js"></script>
    <link rel="stylesheet" type="text/css" href="estilos.css">
    <title>Criptografía</title>
</head>



<body class="fondo">


    <div class="container">
        <div class="row">
            <div class="col-sm">

            </div>
            <div class="col-sm">
              <h1>Criptografía</h1>
              
              <div id="contenedor">
                
                <div class="radio">
                <form name="nombreform" id="idform">
                    <label class="form-check-label">
                        <input class="opcionesRadio" type="radio" name="nombreradio" value="valor1" checked />Cifrar
                    </label>

                    <label class="form-check-label">
                        <input class="opcionesRadio" type="radio" name="nombreradio" value="valor2" />Descifrar
                    </label>
                </form>
            </div>


                <form>
                    <div class="form-group">
                        <label for="texto">Ingrese el texto</label>
                        <input type="text" class="form-control" id="texto">
                    </div>


                    <label class="page-header">Elije el método</label>

                    <div>
                        <select id="opciones" class="form-control" name="opciones" onchange="ShowSelected();">
                            <option value="seleccione">Seleccione uno...</option>
                            <option value="polybios">Polybios</option>
                            <option value="cesar">Cesar</option>
                            <option value="escitala">Escitala</option>
                        </select>
                    </div>
                    <br>

                    <div id="ocultable">
                        <label for="n">Ancho de la vara (n)</label>
                        <input type="text" class="form-control" id="n" value='5'>
                        <br>
                    </div>

                    <div id="ocultable2">
                        <label for="n">Ingrese número de saltos</label>
                        <input type="text" class="form-control" id="numero">
                        <br>
                    </div>
                   


                    <button type="submit" class="btn btn-primary" onclick="cifrar()">ENVIAR</button>
                </form>
         
                <div id="cont" style='width:200px'>
                    <div id="escitala"></div>
                </div>
                <br>
                <div class="alert alert-primary" id="tarjeta" role="alert">
                  La respuesta es: <h4 id="resultado"></h4>
                </div>
              </div>
                
            </div>
            <div class="col-sm">

            </div>
        </div>
    </div>

</body>
<footer class="page-footer font-small blue">

  <div class="footer-copyright text-center py-3" id="footer">Jonathan Mañay - Cynthia Maza - Jonathan Pujos - Jorge Zapata
    <div class="footer-copyright text-center py-3">© 2020
    </div>
  </div>


</footer>
<script type="text/javascript">

    //oculto por defecto
    element2 = document.getElementById('tarjeta');
    element2.style.display = 'none';

    element = document.getElementById('ocultable');
    element.style.display = 'none';

    element3 = document.getElementById('ocultable2');
    element3.style.display = 'none';

    function mostrarOcultar() {
        element = document.getElementById('ocultable');
        estado = element.style.display;


    }

    function ShowSelected() {
        var cod = document.getElementById("opciones").value;
        var combo = document.getElementById("opciones");
        var selected = combo.options[combo.selectedIndex].text;

        if (selected == "Escitala") {
            element.style.display = 'block'
        } else {
            element.style.display = 'none';

        }

        if (selected == "Cesar") {
            element3.style.display = 'block'
        } else {
            element3.style.display = 'none';

        }

        return selected;

    }

    function verradiovalue() {
        var radiovalue = document.nombreform.nombreradio.value;
        if (radiovalue.length == 0) radiovalue = "ninguno";

        return radiovalue;
        
    }

    function cifrar() {

      element2.style.display = 'block'
        event.preventDefault();

        var radio = verradiovalue();

        var opcion = ShowSelected();


        if (opcion == "Polybios") {
            if( radio == "valor1"){
                polybios();
            }else{
                descifrarPoly();
            }
            

        } else if (opcion == "Cesar") {
            if( radio == "valor1"){
                codificar();
            }else{
                decodificar();
            }

            
        } else if (opcion == "Escitala") {
            if( radio == "valor1"){
                document.getElementById("resultado").innerHTML = codEscitala();
            }else{
                document.getElementById("resultado").innerHTML = decEscitala();
                
            }

            
        }




        return false;
    }


</script>

</html>